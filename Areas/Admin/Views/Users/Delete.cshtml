@model Aq3Zh4Service
@{
    ViewData["Title"] = "Delete User";
    var hasTransactions = ViewBag.HasTransactions as bool? ?? false;
}

<div class="max-w-8xl mx-auto py-2">
    <!-- Modern Header with Navigation -->
    <div class="mb-6">
        <div class="flex items-center justify-between bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center space-x-4">
                <a href="@Url.Action("Index", "Users", new { area = "Admin" })"
                    class="w-10 h-10 bg-slate-100 hover:bg-slate-200 rounded-lg flex items-center justify-center transition-colors">
                    <i class="fa-solid fa-arrow-left text-slate-600"></i>
                </a>
                <div class="flex items-center space-x-3">
                    <div
                        class="w-12 h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-xl flex items-center justify-center">
                        <i class="fa-solid fa-trash text-white text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-slate-900">Delete User</h1>
                        <p class="text-slate-600">Permanently remove @Model.UserName from your Company</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation -->
    <div class="bg-white rounded-2xl border border-slate-200 shadow-sm">
        <div class="p-6 border-b border-slate-200">
            <div class="flex items-center">
                <i class="fas fa-exclamation-triangle text-red-500 text-xl mr-3"></i>
                <h2 class="text-lg font-bold text-slate-900">Confirm User Deletion</h2>
            </div>
            <p class="text-slate-600 text-sm mt-1">This action cannot be undone</p>
        </div>

        <div class="p-6">
            <!-- Aq3Zh4Service Information -->
            <div class="bg-slate-50 border border-slate-200 rounded-lg p-4 mb-6">
                <h3 class="text-sm font-medium text-slate-700 mb-3">User to be deleted:</h3>
                <div class="flex items-center">
                    <div
                        class="w-12 h-12 bg-gradient-to-br from-cascadeBlue to-aquaMist rounded-full flex items-center justify-center mr-4">
                        <span class="text-white font-bold">@(Model.UserName?.Substring(0, 1).ToUpper() ?? "U")</span>
                    </div>
                    <div>
                        <p class="text-slate-900 font-medium">@Model.UserName</p>
                        <p class="text-slate-600 text-sm">@Model.Email</p>
                    </div>
                </div>
            </div>

            @if (hasTransactions)
            {
                <!-- Cannot Delete Warning -->
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <div class="flex items-center">
                        <i class="fas fa-ban text-red-500 mr-2"></i>
                        <h3 class="text-sm font-medium text-red-800">Cannot Delete User</h3>
                    </div>
                    <p class="text-red-700 text-sm mt-1">
                        This User has associated transactions and cannot be deleted.
                        You can edit their information or reset their password instead.
                    </p>
                </div>

                <!-- Alternative Actions -->
                <div class="flex items-center justify-end space-x-3">
                    <a href="@Url.Action("Index", "Users", new { area = "Admin" })"
                        class="nav-link inline-flex items-center px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 text-sm font-medium rounded-lg transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Back to Users
                    </a>
                    <a href="@Url.Action("Edit", "Users", new { area = "Admin", id = Model.Id })"
                        class="nav-link inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors">
                        <i class="fas fa-edit mr-2"></i>
                        Edit User Instead
                    </a>
                </div>
            }
            else
            {
                <!-- Deletion Warning -->
                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                        <h3 class="text-sm font-medium text-red-800">Warning</h3>
                    </div>
                    <p class="text-red-700 text-sm mt-1">
                        This action will permanently delete the User Qw8Rt5Entity. The User will no longer
                        be able to access the system, and this action cannot be undone.
                    </p>
                </div>

                <!-- Confirmation Form -->
                <form asp-action="Delete" method="post">
                    <input type="hidden" name="id" value="@Model.Id" />

                    <div class="flex items-center justify-end space-x-3">
                        <a href="@Url.Action("Index", "Users", new { area = "Admin" })"
                            class="nav-link inline-flex items-center px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 text-sm font-medium rounded-lg transition-colors">
                            <i class="fas fa-times mr-2"></i>
                            Cancel
                        </a>
                        <button type="submit"
                            class="inline-flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-colors shadow-sm"
                            onclick="return confirm('Are you absolutely sure you want to delete this User? This action cannot be undone.')">
                            <i class="fas fa-trash mr-2"></i>
                            Delete User
                        </button>
                    </div>
                </form>
            }
        </div>
    </div>

</div>
